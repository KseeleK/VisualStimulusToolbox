<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <title>VisualStimulusToolbox by UCI-CARL</title>

  <link rel="stylesheet" href="css/styles.css">
  <link rel="stylesheet" href="css/github-light.css">
  <meta name="viewport" content="width=device-width">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>VisualStimulusToolbox</h1>
        <p>
          A lightweight Matlab toolbox for generating, storing, and plotting 2D visual stimuli related to vision
          and neuroscience research such as sinusoidal gratings, plaids, random dot fields, and noise.
        </p>

        <p class="view"><a href="https://github.com/UCI-CARL/VisualStimulusToolbox">View the Project on GitHub <small>UCI-CARL/VisualStimulusToolbox</small></a></p>


        <ul class="download">
          <li><a href="https://github.com/UCI-CARL/VisualStimulusToolbox/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/UCI-CARL/VisualStimulusToolbox/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/UCI-CARL/VisualStimulusToolbox">View On <strong>GitHub</strong></a></li>
        </ul>

        <h3>Table of Contents</h3>
        <ul>
          <li><a href="#overview">Overview</a></li>
          <li><a href="#installation">Installation</a></li>
          <li><a href="#getting-started">Getting Started</a></li>
          <li><a href="#first-stimulus">Creating Your First Stimulus</a></li>
          <li><a href="#manipulating-stimuli">Manipulating an Existing Stimulus</a></li>
          <li><a href="#record-avi">Recording AVI</a></li>
          <li><a href="#saving-loading">Saving / Loading</a></li>
          <li><a href="#Acknowledgment">Acknowledgment</a></li>
          </ul>
      </header>
      
      <section>

        <h3>
          <a id="overview" class="anchor" href="#overview" aria-hidden="true">
            <span aria-hidden="true" class="octicon octicon-link"></span>
          </a>
          Overview
        </h3>

        <p>
          VisualStimulusToolbox provides a free set of MATLAB functions for vision and neuroscience research.
          The toolbox allows for the easy creation, manipulation, plotting, and storing of visual stimuli such as
          drifting sinusoidal gratings, drifting plaids, drifting bars, random dot clouds, as well as their
          combinations. Every stimulus can be plotted, recorded to AVI, and stored to binary.
        </p>

        <img src="img/visualstimulus.jpg" style="width: 100%; margin-bottom: 20px"/>

        <p>
          The toolbox is a lightweight alternative to the more comprehensive 
          <a href="http://psychtoolbox.org/" target="_blank">Psychophysics</a> toolbox.
        </p>

        <p>
          VisualStimulusToolbox was originally created to provide an easy way to important visual stimuli to the
          <a href="http://www.socsci.uci.edu/~jkrichma/CARLsim" target="_blank">CARLsim</a> spiking network 
          simulator. As of CARLsim 3.0, it is straightforward to convert VisualStimulus <tt>.dat</tt> files 
          to spike trains that can serve as input to CARLsim simulations.
          However, the toolbox can be used independently.</p>

        <h3>
          <a id="installation" class="anchor" href="#installation" aria-hidden="true">
            <span aria-hidden="true" class="octicon octicon-link"></span>
          </a>
          Installation
        </h3>
        <p>
          You can view and manage installed add-ons in MATLAB R2016a using the Add-On Manager. 
          To open the Add-On Manager, go to the Home tab, and select Add-Ons > Manage Add-Ons.
        </p>
        
        <p>
          In older MATLAB versions (before R2015b), simply add the directory 
          <tt>VisualStimulus/VisualStimulusToolbox</tt> to your MATLAB path, and you are good to go.
        </p>



        <h3>
          <a id="getting-started" class="anchor" href="#getting-started" aria-hidden="true">
            <span aria-hidden="true" class="octicon octicon-link"></span>
          </a>
          Getting Started
        </h3>

        <p style="margin-bottom: 0">
          VisualStimulusToolbox provides a number of classes for creating, plotting, and storing visual 
          stimuli such as:
        </p>
        <ul>
          <li><tt>DotStim</tt>: field of randomly drifting dots</li>
          <li><tt>GratingStim</tt>: drifting sinusoidal grating</li>
          <li><tt>PlaidStim</tt>: drifting plaid stimulus (composed of two sinusoidal gratings)</li>
          <li><tt>BarStim</tt>: drifting bar stimulus</li>
          <li><tt>PictureStim</tt>: stimulus made from a picture (BMP, CUR, GIF, HDF, ICO, JPEG, PBM, PCX, PGM, PNG, PPM, RAS, TIFF, XWD)</li>
          <li><tt>VideoStim</tt>: stimulus made from a movie (AVI, MPG, MP4, M4V, MOV, WMV, MJ2, ASF, ASX)</li>
          <li><tt>CompoundStim</tt>: stimulus made from a mixture of stimulus types listed above</li>
        </ul>



        <h3>
          <a id="first-stimulus" class="anchor" href="#first-stimulus" aria-hidden="true">
            <span aria-hidden="true" class="octicon octicon-link"></span>
          </a>
          Creating Your First Stimulus
        </h3>
        <p style="margin-bottom: 0">A stimulus is intantiated by passing the desired stimulus [height, width] to the constructor:</p>
        <pre>&gt;&gt; dot = DotStim([120 160])
DotStim with properties:

width: 160
height: 120
channels: 1
length: 0
stim: []
supportedNoiseTypes: {'gaussian','localvar', 'poisson',
                      'salt &amp; pepper', 'speckle'}</pre>

          <p style="margin-bottom: 0">
            Frames can then be added using the method <tt>add</tt>, by specifying drift direction (in degrees) and speed
            (in pixels/frame) as well as some other stimulus-specific options (e.g., dot density, dot coherence, 
            dot size, etc.):
          </p>

          <pre>&gt;&gt; numFrames = 10;
&gt;&gt; dotSpeed = 1;
&gt;&gt; for dirDeg=(0:7)*45
      dot.add(numFrames, dirDeg, dotSpeed);
   end
&gt;&gt; dot.plot;</pre>

            <p>
              This will create a stimulus made of a total of 80 frames, where dots drift into one of eight directions 
              (in 45 degree increments) for 10 frames each.
            </p>

            <p style="margin-bottom: 0">During plotting, key events can be used to pause, stop, and step through the frames.</p>

            <ul>
              <li>Pressing <tt>p</tt> will pause plotting until another key is pressed.</li>
              <li>
                Pressing <tt>s</tt> will enter stepping mode, where the succeeding frame can be reached by pressing the 
                right-arrow key, and the preceding frame can be reached by pressing the left-arrow key. Pressing <tt>s</tt> again
                will exit stepping mode.
              </li>
              <li>Pressing <tt>q</tt> will exit plotting.</li>
              <li>
                Internally, the stimulus is stored as a 4D array. For example, grayscale stimuli have one channel, 
                and RGB stimuli have three channels. The raw data array can also be accessed directly:
              <pre>&gt;&gt; rawData4D = dot.stim;</pre>
              </li>
            </ul>

              <p>A stimulus can also be converted to an AVI movie or stored as a binary file (see below).</p>


              <h3>
                <a id="manipulating-stimuli" class="anchor" href="#manipulating-stimuli" aria-hidden="true">
                  <span aria-hidden="true" class="octicon octicon-link"></span>
                </a>
                Manipulating an Existing Stimulus
              </h3>

              <p style="margin-bottom: 0">Every stimulus type also comes with a number of handy helper methods:</p>

              <ul>
                <li><tt>clear</tt>: Deletes all frames.</li>
                <li><tt>erase</tt>: Deletes either a single frame or a list of frames.</li>
                <li><tt>popFront</tt>: Deletes the first frame.</li>
                <li><tt>popBack</tt>: Deletes the last frame.</li>
                <li><tt>rgb2gray</tt>: Converts an RGB stimulus to a grayscale stimulus.</li>
                <li><tt>resize</tt>: Resizes all frames by specifying either a scaling factor or a desired [height, width].</li>
                <li><tt>appendBlanks</tt>: Appends blank frames of a given grayscale value.</li>
                <li>
                  <tt>addNoise</tt>: Adds noise to all existing frames. Supported noise types are given by variable 
                  <tt>supportedNoiseTypes</tt> and currently includes Gaussian noise with constant mean, Gaussian 
                  white noise, Poisson noise, Salt &amp; Pepper noise, and speckle (multiplicative) noise.
                </li>
              </ul>

              <h3>
                <a id="designer-templates" class="anchor" href="#recording-avi" aria-hidden="true">
                  <span aria-hidden="true" class="octicon octicon-link"></span>
                </a>
                Recording AVI
              </h3>

              <p style="margin-bottom: 0">
                Every stimulus type can be converted to an AVI movie using the record method by specifying a desired file 
                name and frame rate:
              </p>

              <pre>&gt;&gt; dot.record('myMovie.avi', 10); % 10 frames per second</pre>

              <h3>
                <a id="saving-loading" class="anchor" href="#saving-loading" aria-hidden="true">
                  <span aria-hidden="true" class="octicon octicon-link"></span>
                </a>
                Saving / Loading
              </h3>

              <p>Every stimulus type can be stored to a binary file, which can be loaded at a later point:</p>

              <pre>&gt;&gt; dot.save('myBinaryStim.dat');
&gt;&gt; newDot = DotStim;
&gt;&gt; newDot.load('myBinaryStim.dat');</pre>

<p style="margin-bottom: 0">Make sure the two stimuli are the same:</p>
<pre>&gt;&gt; assert(all(oldStim(:) == newDot.stim(:)))</pre>


              <h3>
                <a id="acknowledgment" class="anchor" href="#acknowledgment" aria-hidden="true">
                  <span aria-hidden="true" class="octicon octicon-link"></span>
                </a>
                Acknowledgment
              </h3>

              <p>
                Some of this code is based on scripts initially authored by Timothy Saint 
                (saint at ncs dot nyu dot edu) and Eero P. Simoncelli 
                (eero dot simoncelli at nyu dot edu) at NYU.
              </p>

              <p>
                These scripts were released as part of the 
                <a href="http://www.cns.nyu.edu/~lcv/MTmodel/" target="_blank">Motion Energy</a> model in 2005, 
                which was released without stating 
                any software license restrictions. Their contributions are attributed at relevant places in the source code.
                  </p>

                </section>
                <footer>
                  <p>This project is maintained by <a href="https://github.com/UCI-CARL">UCI-CARL</a>.</p>
                  <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
                </footer>
              </div>
              <script src="js/scale.fix.js"></script>

            </body>
            </html>
